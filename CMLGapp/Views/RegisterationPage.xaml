<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="CMLGapp.Views.RegisterationPage"
             xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
             Shell.NavBarIsVisible="False"
             NavigationPage.HasNavigationBar="False"
             BackgroundColor="#F0E600">

    <ScrollView>
        <Grid Padding="{OnIdiom Phone='0,0', Tablet='0,0', Desktop='48,28'}">

        <!-- animation -->
        <toolkit:MediaElement x:Name="BgVideo" Source="embed://animation.mp4" ShouldAutoPlay="True" ShouldLoopPlayback="True" ShouldMute="True"
                              ShouldShowPlaybackControls="False" Aspect="Fill" InputTransparent="True" ZIndex="-2" />

        <!-- card -->
        <VerticalStackLayout HorizontalOptions="{OnIdiom Phone=Start, Tablet=Start, Desktop=Start}"
                      Padding="{OnIdiom Phone='20,0', Tablet='40,0', Desktop='48,28'}" VerticalOptions="Center" Spacing="{OnIdiom Phone=20, Tablet=40}">
            <Frame BackgroundColor="#0A141E" BorderColor="#0A141E" CornerRadius="30" HasShadow="True" Padding="{OnIdiom Phone=18, Tablet=24, Desktop=26}" 
            HorizontalOptions="Fill" MaximumWidthRequest="{OnIdiom Phone=320, Tablet=450, Desktop=560}" >

                <ScrollView>
                        <VerticalStackLayout x:Name="CardHost" Spacing="{OnIdiom Phone=14, Tablet=18}">
                        
                        <Grid ColumnSpacing="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="Auto" />
                            </Grid.ColumnDefinitions>
                                <Label x:Name="lblHeader" Text="coraApp" TextColor="#B9C3CD" FontAttributes="Bold" FontSize="{OnIdiom Phone=34, Tablet=50}" VerticalOptions="Center" />
                            <Image Source="zollerimage.svg"  HeightRequest="{OnIdiom Phone=48, Tablet=70}" WidthRequest="{OnIdiom Phone=72, Tablet=100}" Grid.Column="1" VerticalOptions="Center" HorizontalOptions="End"/>
                        </Grid>

                        <HorizontalStackLayout>
                            <!-- lbl register -->
                            <Label Text=" REGISTER" TextColor="#7D8791" FontAttributes="Bold" FontSize="{OnIdiom Phone=13, Tablet=14}" Margin="0,10,0,0"/>
                            <BoxView HeightRequest="1" BackgroundColor="#4C5661" VerticalOptions="Center"/>
                        </HorizontalStackLayout>
                        

                        <!-- FULL NAME entry -->
                        <VerticalStackLayout Spacing="10" Margin="0,20,0,0">
                            <Label Text=" FULL NAME" TextColor="#7D8791" FontAttributes="Bold" FontSize="{OnIdiom Phone=13, Tablet=14}" />
                            <Frame BackgroundColor="#46505A" CornerRadius="12" Padding="10,5" HasShadow="False" BorderColor="Transparent" VerticalOptions="Center">
                                <Entry x:Name="fullName" Placeholder="Full Name" PlaceholderColor="#8C96A0" BackgroundColor="Transparent" 
                                       TextColor="#D2DCE6" HeightRequest="40" Margin="0" />
                                
                                <!-- FULL NAME  - enry box selection effect -->
                                <Frame.Triggers>
                                    <DataTrigger TargetType="Frame" Binding="{Binding Source={x:Reference fullName}, Path=IsFocused}" Value="True">
                                        <Setter Property="BorderColor" Value="#F0E600"/>
                                        <Setter Property="BackgroundColor" Value="#2F3942"/>
                                    </DataTrigger>
                                </Frame.Triggers>
                                
                            </Frame>
                        </VerticalStackLayout>

                        <!--  EMAIL  enty-->
                        <VerticalStackLayout Spacing="10">
                            <Label Text=" EMAIL" TextColor="#7D8791" FontAttributes="Bold" FontSize="{OnIdiom Phone=13, Tablet=14}" />
                            <Frame BackgroundColor="#46505A" CornerRadius="12" Padding="10,5" HasShadow="False" BorderColor="Transparent" VerticalOptions="Center">
                                
                                <Grid>
                                    <Entry x:Name="email" Placeholder="Email" PlaceholderColor="#8C96A0"
                                           BackgroundColor="Transparent" TextColor="#D2DCE6" HeightRequest="40" Margin="0"
                                           TextChanged="OnUsernameChanged"/>
                                    <Image x:Name="usernameCheck" Source="checkmark.png" WidthRequest="20" HeightRequest="20"
                                           HorizontalOptions="End" VerticalOptions="Center" IsVisible="False" Opacity="0.9"/>
                                </Grid>
                                
                                <!-- USERNAME OR EMAIL  - enry box selection effect -->
                                <Frame.Triggers>
                                    <DataTrigger TargetType="Frame" Binding="{Binding Source={x:Reference email}, Path=IsFocused}" Value="True">
                                        <Setter Property="BorderColor" Value="#F0E600"/>
                                        <Setter Property="BackgroundColor" Value="#2F3942"/>
                                    </DataTrigger>
                                </Frame.Triggers>
                            </Frame>

                            <Label x:Name="usernameValidation" FontSize="{OnIdiom Phone=13, Tablet=14}" TextColor="Red" IsVisible="False" />
                        </VerticalStackLayout>

                        <!-- PASSWORD -->
                        <VerticalStackLayout Spacing="8">
                            <Label Text=" PASSWORD" TextColor="#7D8791" FontAttributes="Bold" FontSize="{OnIdiom Phone=13, Tablet=14}" />
                            <Frame BackgroundColor="#46505A" CornerRadius="12" Padding="10,5" HasShadow="False" BorderColor="Transparent" VerticalOptions="Center">
                                
                                <Grid>
                                    <Entry x:Name="password" Placeholder="Password" PlaceholderColor="#8C96A0" IsPassword="True"
                                           BackgroundColor="Transparent" TextColor="#E1EBF5" HeightRequest="40" Margin="0" TextChanged="OnPasswordChanged"/>
                                    <ImageButton x:Name="togglePasswordVisibility" Source="eye.svg"  WidthRequest="20" HeightRequest="20" BackgroundColor="Transparent"
                                                 HorizontalOptions="End" VerticalOptions="Center" Clicked="OnTogglePasswordVisibilityClicked" IsVisible="False" Opacity="0.6"/>
                                </Grid>
                                
                                <Frame.Triggers>
                                    <!-- PASSWORD  - enry box selection effect -->
                                    <DataTrigger TargetType="Frame" Binding="{Binding Source={x:Reference password}, Path=IsFocused}" Value="True">
                                        <Setter Property="BorderColor" Value="#F0E600"/>
                                        <Setter Property="BackgroundColor" Value="#2F3942"/>
                                    </DataTrigger>
                                </Frame.Triggers>
                                
                            </Frame>
                            <Label x:Name="passwordValidation" FontSize="12" TextColor="Red" IsVisible="False" />
                        </VerticalStackLayout>

                        <!-- CONFIRM PASSWORD -->
                        <VerticalStackLayout Spacing="8">
                            <Label Text=" CONFIRM PASSWORD" TextColor="#7D8791" FontAttributes="Bold" FontSize="{OnIdiom Phone=13, Tablet=14}" />
                            <Frame BackgroundColor="#46505A" CornerRadius="12" Padding="10,5" HasShadow="False" BorderColor="Transparent" VerticalOptions="Center">
                                
                                <Grid>
                                    <Entry x:Name="confirmPassword" Placeholder="Confirm Password" PlaceholderColor="#8C96A0" IsPassword="True"
                                           BackgroundColor="Transparent" TextColor="#E1EBF5" HeightRequest="40" Margin="0"
                                           TextChanged="OnConfirmPasswordChanged"/>
                                    <ImageButton x:Name="toggleConfirmPasswordVisibility" Source="eye.svg" WidthRequest="20" HeightRequest="20" BackgroundColor="Transparent"
                                                 HorizontalOptions="End" VerticalOptions="Center"  Clicked="OnToggleConfirmPasswordVisibilityClicked" IsVisible="False" Opacity="0.6"/>
                                </Grid>
                                
                                <!-- CONFIRM PASSWORD  - enry box selection effect -->
                                <Frame.Triggers>
                                    <DataTrigger TargetType="Frame" Binding="{Binding Source={x:Reference confirmPassword}, Path=IsFocused}" Value="True">
                                        <Setter Property="BorderColor" Value="#F0E600"/>
                                        <Setter Property="BackgroundColor" Value="#2F3942"/>
                                    </DataTrigger>
                                </Frame.Triggers>
                            </Frame>
                            <Label x:Name="confirmPasswordValidation" FontSize="12" TextColor="Red" IsVisible="False" />
                        </VerticalStackLayout>

                        <!-- SIGN UP btn -->
                        <Button Text="Sign Up" Clicked="OnSignUpClicked" BackgroundColor="#46505A" TextColor="#D2DCE6" FontAttributes="Bold"
                                HeightRequest="50" CornerRadius="10" Margin="0,20,0,0"/>

                        <!-- lbl SIGN IN -->
                        <HorizontalStackLayout HorizontalOptions="Center" Spacing="6" Margin="0,4,0,0">
                            <Label Text="Already a Member?" TextColor="#7D8791" FontSize="12" />
                            <Image Source="link.png"  WidthRequest="{OnIdiom Phone=11, Tablet=12}" HeightRequest="{OnIdiom Phone=11, Tablet=12}"  VerticalOptions="Center"/>
                            <Label Text=" Sign in" FontSize="{OnIdiom Phone=13, Tablet=14}" TextColor="#D2DCE6" VerticalOptions="Center">
                                <Label.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="OnLoginTapped" />
                                </Label.GestureRecognizers>
                            </Label>
                        </HorizontalStackLayout>

                    </VerticalStackLayout>
                </ScrollView>
            </Frame>
        </VerticalStackLayout>

        <!-- Bottom-left back icon -->
        <Image Source="back_icon.png" HeightRequest="{OnIdiom Phone=40, Tablet=45}" WidthRequest="{OnIdiom Phone=40, Tablet=45}"  HorizontalOptions="Start" VerticalOptions="End" Margin="20" />

    </Grid>
    </ScrollView>
</ContentPage>
